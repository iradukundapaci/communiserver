<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donation Report</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        color: #333;
      }

      header {
        padding: 20px;
        background-color: #1226aa;
        color: white;
        text-align: center;
      }

      header img {
        height: 50px;
      }

      header h1 {
        margin: 10px 0 5px;
        font-size: 24px;
      }

      header p {
        margin: 0;
        font-size: 14px;
      }

      main {
        padding: 20px;
      }

      .card {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 20px;
        page-break-inside: avoid; /* Prevent breaking inside cards */
      }

      .card h2 {
        margin-top: 0;
        color: #ed5f98;
        border-bottom: 2px solid #ed5f98;
        padding-bottom: 5px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
        page-break-inside: avoid; /* Prevent table breaking across pages */
      }

      table,
      th,
      td {
        border: 1px solid #ddd;
      }

      th,
      td {
        padding: 8px;
        text-align: left;
      }

      th {
        background-color: #f4f4f4;
      }

      tbody tr {
        page-break-inside: avoid; /* Prevent rows breaking across pages */
      }

      .product-card img {
        width: 50px;
        height: 50px;
        object-fit: cover;
      }
    </style>
  </head>
  <body>
    <header>
      <img
        src="https://communiserver.awesomity.rw/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FGroup.9b93f0e9.png&w=128&q=75"
        alt="Logo"
      />
      <h1>Donation Report</h1>
      <p>{{date}}</p>
    </header>
    <main>
      <!-- Donation Details Card -->
      <div class="card details">
        <h2>Donation Details</h2>
        <p><strong>Donor:</strong> {{donor}}</p>
        <p><strong>Total Amount:</strong> Rwf {{totalAmount}}</p>
      </div>

      <!-- Report Summary Card -->
      <div class="card report">
        <h2>Report Summary</h2>
        <p><strong>Total Beneficiaries:</strong> {{totalBeneficiaries}}</p>
        <p><strong>Average Age:</strong> {{averageAge}}</p>
        <p><strong>Comment:</strong> {{comment}}</p>
      </div>

      <!-- Donation Items Table -->
      <div class="card">
        <h2>Donation Items</h2>
        <table>
          <thead>
            <tr>
              <th>Image</th>
              <th>Item Name</th>
              <th>Quantity</th>
              <th>Unit Price</th>
              <th>Total Price</th>
              <th>Supplier</th>
            </tr>
          </thead>
          <tbody>
            {{#each items}}
            <tr>
              <td>
                <img
                  src="https://communiserver.awesomity.rw/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fcommuniserver-defalt.afa41d9d.png&w=128&q=75"
                  alt="Product Image"
                />
              </td>
              <td>{{name}}</td>
              <td>{{quantity}}</td>
              <td>Rwf {{unitPrice}}</td>
              <td>Rwf {{totalPrice}}</td>
              <td>{{supplier}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </main>
  </body>
</html>
